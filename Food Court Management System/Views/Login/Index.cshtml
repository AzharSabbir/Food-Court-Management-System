@model Food_Court_Management_System.Models.LoginViewModel
@{
    Layout = null;
    var loginType = ViewBag.LoginType as string ?? "Restaurant";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="~/Content/CSS/Login.css" />
</head>
<body>
    <div class="login-container">
        <div class="login-box">
            <h2>Login</h2>

            <div class="tabs">
                <button id="restaurant-login" class="tab-btn @(loginType == "Restaurant" ? "active" : "")">Restaurant Login</button>
                <button id="customer-login" class="tab-btn @(loginType == "Customer" ? "active" : "")">Customer Login</button>
            </div>

            @if (!ViewData.ModelState.IsValid)
            {
                <p style="color:red;">@Html.ValidationSummary()</p>
            }

            @using (Html.BeginForm(loginType == "Restaurant" ? "RestaurantLogin" : "CustomerLogin", "Login", FormMethod.Post, new { id = "login-form" }))
            {
                <div class="input-group">
                    <label for="email">Email/Username</label>
                    @Html.TextBoxFor(m => m.Email, new { @placeholder = "Enter your email or username", required = "required" })
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    @Html.PasswordFor(m => m.Password, new { @placeholder = "Enter your password", required = "required" })
                </div>
                <div class="actions">
                    <button type="submit" class="btn">Login</button>
                    <p class="forgot-password"><a href="#">Forgot Password?</a></p>
                </div>
            }

            <div class="register-link">
                <p>New here? <a href="#">Register Now</a></p>
            </div>
        </div>
    </div>

    <script>
        const restaurantBtn = document.getElementById('restaurant-login');
        const customerBtn = document.getElementById('customer-login');
        const form = document.getElementById('login-form');

        restaurantBtn.addEventListener('click', () => {
            form.action = '@Url.Action("RestaurantLogin", "Login")';
            restaurantBtn.classList.add("active");
            customerBtn.classList.remove("active");
            form.submit();
        });

        customerBtn.addEventListener('click', () => {
            form.action = '@Url.Action("CustomerLogin", "Login")';
            customerBtn.classList.add("active");
            restaurantBtn.classList.remove("active");
            form.submit();
        });
    </script>
</body>
</html>
